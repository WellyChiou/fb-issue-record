# Firebase Firestore 規則建議設定
# 請將以下規則複製到 Firebase Console -> Firestore Database -> Rules

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // 使用者資料集合
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // 記帳記錄集合
    match /records/{recordId} {
      allow read, write: if request.auth != null;
    }
    
    // 資產集合 (新增)
    match /assets/{assetId} {
      allow read, write: if request.auth != null;
    }
    
    // 匯率集合 (新增)
    match /exchangeRates/{rateId} {
      allow read, write: if request.auth != null;
    }
    
    // 每日匯率集合 (新增)
    match /dailyExchangeRates/{dateId} {
      allow read, write: if request.auth != null;
    }
    
    // 系統配置集合 (新增)
    match /config/{configId} {
      allow read, write: if request.auth != null;
    }
  }
}

# 說明：
# 1. users: 只有使用者本人可以讀寫自己的資料
# 2. records: 所有登入使用者都可以讀寫 (家庭記帳系統)
# 3. assets: 所有登入使用者都可以讀寫 (資產組合管理)
# 4. exchangeRates: 所有登入使用者都可以讀寫 (匯率管理)
